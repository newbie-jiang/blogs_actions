linux上部署 Shinobi 

一键安装脚本

```
sh <(curl -s https://cdn.shinobi.video/installers/shinobi-install.sh)
```

```
Select your OS
If your OS is not on the list please refer to the docs.
========
1. Ubuntu - Fast and Touchless
2. Ubuntu - Advanced
3. Alma Linux 9.2 / Rocky 9 / CentOS 8 - Fast and Touchless (Red Hat)
4. CentOS
5. MacOS
6. FreeBSD
7. OpenSUSE

```

admin@shinobi.video

admin

     pm2 list

```c
hdj@newbies:~/video_save$ pm2 list

                        -------------

__/\\\\\\\\\\\\\____/\\\\____________/\\\\____/\\\\\\\\\_____
 _\/\\\/////////\\\_\/\\\\\\________/\\\\\\__/\\\///////\\\___
  _\/\\\_______\/\\\_\/\\\//\\\____/\\\//\\\_\///______\//\\\__
   _\/\\\\\\\\\\\\\/__\/\\\\///\\\/\\\/_\/\\\___________/\\\/___
    _\/\\\/////////____\/\\\__\///\\\/___\/\\\________/\\\//_____
     _\/\\\_____________\/\\\____\///_____\/\\\_____/\\\//________
      _\/\\\_____________\/\\\_____________\/\\\___/\\\/___________
       _\/\\\_____________\/\\\_____________\/\\\__/\\\\\\\\\\\\\\\_
        _\///______________\///______________\///__\///////////////__


                          Runtime Edition

        PM2 is a Production Process Manager for Node.js applications
                     with a built-in Load Balancer.

                Start and Daemonize any application:
                $ pm2 start app.js

                Load Balance 4 instances of api.js:
                $ pm2 start api.js -i 4

                Monitor in production:
                $ pm2 monitor

                Make pm2 auto-boot at server restart:
                $ pm2 startup

                To go further checkout:
                http://pm2.io/


                        -------------

[PM2] Spawning PM2 daemon with pm2_home=/home/hdj/.pm2
[PM2] PM2 Successfully daemonized
┌────┬───────────┬─────────────┬─────────┬─────────┬──────────┬────────┬──────┬───────────┬──────────┬──────────┬──────────┬──────────┐
│ id │ name      │ namespace   │ version │ mode    │ pid      │ uptime │ ↺    │ status    │ cpu      │ mem      │ user     │ watching │
└────┴───────────┴─────────────┴─────────┴─────────┴──────────┴────────┴──────┴───────────┴──────────┴──────────┴──────────┴──────────┘

```



### **1. Ubuntu - Fast and Touchless**

- **推荐！**
- 自动检测、自动安装依赖和配置，基本全自动。
- 安装快、省心，适合大多数用户，尤其是**新手或希望快速部署**。

### **2. Ubuntu - Advanced**

- 适合有经验用户、需要**手动干预、定制某些参数**的人。
- 过程中会问你更多问题，比如数据库、目录、自定义选项。
- 更灵活，但**步骤多、容易出错**。











### 1. **更新系统并安装依赖**

```
sudo apt update
sudo apt install -y git curl build-essential ffmpeg mariadb-server nodejs npm
```

> 说明：
>
> - **ffmpeg** 是 Shinobi 必须的转码工具。
> - **mariadb-server**（或 mysql-server）作为数据库。

### 2. **克隆 Shinobi 源码**

```
git clone https://gitlab.com/Shinobi-Systems/Shinobi.git shinobi
cd shinobi
```

### 3. **安装 Node.js 依赖**

```
sudo npm install
```

### 4. **初始化数据库**

```
sudo mysql -u root -p
```

依次输入以下 SQL（可直接复制粘贴，注意分号）：

```
CREATE DATABASE ccio;
CREATE USER 'shinobi'@'localhost' IDENTIFIED BY 'shinobi';
GRANT ALL PRIVILEGES ON ccio.* TO 'shinobi'@'localhost';
FLUSH PRIVILEGES;
EXIT;
```

> 数据库名、用户名、密码可根据需求修改，记得与配置文件同步。

### 5. **配置 Shinobi**

复制一份默认配置：

```
cp conf.sample.json conf.json
```

编辑 `conf.json`（如 nano conf.json），配置数据库账号密码等（与上面 SQL 保持一致）。

### 6. **启动 Shinobi**

```
sudo node ./camera.js
```

首次启动，命令行会输出管理员初始账号（默认用户名：admin@shinobi.video，密码：admin）。

### 7. **访问 Web 界面**

浏览器访问：

```
http://<你的Linux主机IP>:8080
```

使用默认账号登录，开始配置摄像头。